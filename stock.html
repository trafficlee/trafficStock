<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>Traffic</title>
<link rel="shortcut icon" href="images/t.png">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="Access-Control-Allow-Origin" content="*" />
<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="css/bootstrap.min.css" >
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="js/jquery-3.3.1.min.js" ></script>
<script src="js/bootstrap.min.js" ></script>
<script src="js/stockUtil.js" ></script>
<script src="js/echarts.min.js" ></script>
</head>

<style>
body{
	background-color:#F4F5F5
}

.container-fluid.head{
	background-color:white;
	height:65px;
}
.container-fluid.content{
	margin-top:30px;
}
.nav.nav-pills.nav{
	margin-top:13px;
}
.container-fluid.rightTop{
	background-color:white;
	border-top: 3px solid #6699ff;
	border-bottom: 1px solid #DCDCDC;
	text-align: center;
}
.container-fluid.left{
	background-color:white;
}
.container-fluid.middle{
	background-color:white;
}
.container-fluid.bottom{
	background-color:white;
}
.container-fluid.bottom.chart{
	width:300px;
	height:300px;
}
.container-fluid.tab{
	padding-left:0px;
	padding-right:0px;
}
.container-fluid.tab li{
	width:33.3%;
}
.container-fluid.dateTop{
	border-top: 3px solid #6699ff;
	border-bottom: 1px solid #DCDCDC;
}
.tab-content td{
    font-size: 11px;

}
.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{
	font-weight:900;
	font-size: 15px;
	color:#337ab7;
	cursor:default;
	background-color:#fff;
	border:1px solid #ddd;
	border-bottom-color:transparent;
	
}

</style>

<body>
	
	<div class="container-fluid head"  >
		<ul class="nav nav-pills nav">
		  <li role="presentation" ><a href="#">Traffic-Stock</a></li>

		</ul>
	</div>
	
	<div class="container-fluid content"  >
		<div class="container" >
			<div class="row">
				<div class="col-xs-12 col-md-8">
					<div class="container-fluid left"  >1
					1</br>1
					1</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>1
					1</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>1
					1</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>1
					1</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>1
					1</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>11</br>1
					</div>
				</div>
				<div class="col-xs-12 col-md-4" >
					<div class="container-fluid"  >
						<div class="container-fluid rightTop">
							<h5 class="date" id="date"></h5>
						</div>
						<div class="container-fluid middle" >
							<div class="container-fluid tab">
								<ul class="nav nav-tabs" role="tablist">
									<li role="presentation" class="active"><a href="#AStock" aria-controls="home" role="tab" data-toggle="tab">A股</a></li>
									<li role="presentation"><a href="#HKStock" aria-controls="profile" role="tab" data-toggle="tab">港股</a></li>
									<li role="presentation"><a href="#USAStock" aria-controls="messages" role="tab" data-toggle="tab">美股</a></li>
								</ul>
								<div class="tab-content table-responsive">
									<div role="tabpanel" class="tab-pane active" id="AStock">
									<table class="table table-hover">
										<tr><td id="">股票名称</td><td id="">最新价格</td><td id="">涨跌</td><td id="">涨跌幅度</td></tr>
										<tr><td ><a id="AStockName" href="#"></a></td><td id="AStockValue"></td><td id="AStockRangeValue"></td><td id="AStockRangePercent"></td></tr>
									</table>
									<img src="" class="img-rounded"></img>
									</div>
									<div role="tabpanel" class="tab-pane" id="HKStock">
										<table class="table table-hover">
										<tr><td id="">股票名称</td><td id="">最新价格</td><td id="">涨跌</td><td id="">涨跌幅度</td></tr>
										<tr><td ><a id="HKStockName" href="#"></a></td><td id="HKStockValue"></td><td id="HKStockRangeValue"></td><td id="HKStockRangePercent"></td></tr>
									</table>
									</div>
									<div role="tabpanel" class="tab-pane" id="USAStock">
										<table class="table table-hover">
										<tr><td id="">股票名称</td><td id="">最新价格</td><td id="">涨跌</td><td id="">涨跌幅度</td></tr>
										<tr><td ><a id="USAStockName" href="#"></a></td><td id="USAStockValue"></td><td id="USAStockRangeValue"></td><td id="USAStockRangePercent"></td></tr>
										</table>
									</div>
								</div>
							</div>
						</div>
						<div class="container-fluid bottom" >

							<div id="chart" class="container-fluid bottom chart"></div>
							<img src="" id="stockImg"/>
						</div>
					</div>
					
				</div>
			</div>
		</div>
	</div>
<script>
	
	getTimestamp("yesterday");
	
	setInterval(function(){
		document.getElementById("date").innerHTML = getChineseDate();
	}
	,"1000");
	
	getStockBasic("AStock","sh000001");
	
	
	$('.nav-tabs>li>a').click(function (e) {
		var tabId = $(this)[0].hash.split("#")[1];
		var stockNum = "";
		
		switch(tabId){
			case "AStock":
			stockNum = "sh000001";
			break;
			case "HKStock":
			stockNum = "hkHSI";
			break;
			case "USAStock":
			stockNum = "usDJI";
			break;
		}
		
		getStockBasic(tabId,stockNum);
		
	});
	
	gettimeSharing("sz002048");

	/*var timeSharingArr = gettimeSharing("sz002048");
	console.log("begin");
	console.log(timeSharingArr);
	console.log("end");
	for( var o in timeSharingArr){
		console.log(timeSharingArr[o]);
	}*/
	
	var timeArr = [];
	var valueArr = [];

// 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('chart'));

        // 指定图表的配置项和数据
        option = {
			tooltip:{
				show:true,
			},
			xAxis: {
				type: 'category',
				data: timeArr,
				axisLabel:{
					interval:2
				},
			},
			yAxis: {
				type: 'value'
			},
			series: [{
				data: [820, 932, 901, 934, 1290, 1330, 1320],
				type: 'line',
				smooth: true,
				animation:false,
			}]
		};
		
//echarts.init(document.getElementById("chart")).setOption(option);

myChart.setOption(option);
var src = myChart.getDataURL();
document.getElementById("stockImg").src = src;
//debugger;
	
</script>
	

	
</body>
</html>